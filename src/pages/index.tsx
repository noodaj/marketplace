import { Item } from "@prisma/client";
import { type NextPage } from "next";
import { useEffect, useState } from "react";
import { Header } from "../components/header";
import { ItemList } from "../components/itemList";
import { trpc } from "../utils/trpc";

const Home: NextPage = () => {
	const getAllItems = trpc.items.getAllItems.useQuery()
	const [items, setItems] = useState<Item[]>([]);
	useEffect(() => {
		console.log(getAllItems)
	}, [])
	return (
		<>
			<header>
				<title>Marketplace</title>
				<meta name="description" content="Generated by create-t3-app" />
				<link rel="icon" href="/favicon.ico" />
			</header>

			<main className="min-h-screen bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 font-semibold">
				<Header itemCount={items.length}/>
				<ItemList items={items}/>
			</main>
		</>
	);
};

export default Home;
